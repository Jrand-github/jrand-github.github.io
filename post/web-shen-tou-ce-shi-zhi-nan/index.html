<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>WEB渗透测试指南 | F1n_blog</title>
<link rel="shortcut icon" href="https://Jrand-github.github.io/favicon.ico?v=1626319221492">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://Jrand-github.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="WEB渗透测试指南 | F1n_blog - Atom Feed" href="https://Jrand-github.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="WEB安全攻防渗透测试实战指南
被动信息收集
域名信息收集
Whois查询
https://whois.aizhan.com/
https://www.virustotal.com/
根域名收集（备案）
ICP备案查询：http://www..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://Jrand-github.github.io">
  <img class="avatar" src="https://Jrand-github.github.io/images/avatar.png?v=1626319221492" alt="">
  </a>
  <h1 class="site-title">
    F1n_blog
  </h1>
  <p class="site-description">
    每个人都在过着别人羡慕的生活
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              WEB渗透测试指南
            </h2>
            <div class="post-info">
              <span>
                2021-07-15
              </span>
              <span>
                14 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h1 id="web安全攻防渗透测试实战指南">WEB安全攻防渗透测试实战指南</h1>
<h2 id="被动信息收集">被动信息收集</h2>
<h3 id="域名信息收集">域名信息收集</h3>
<h4 id="whois查询">Whois查询</h4>
<p><a href="https://whois.aizhan.com/">https://whois.aizhan.com/</a></p>
<p><a href="https://www.virustotal.com/">https://www.virustotal.com/</a></p>
<h4 id="根域名收集备案">根域名收集（备案）</h4>
<p>ICP备案查询：<a href="http://www.beianbeian.com">http://www.beianbeian.com</a></p>
<p>天眼查：<a href="http://www.tianyancha.com">http://www.tianyancha.com</a></p>
<h4 id="子域名收集">子域名收集</h4>
<p>OneForAll <a href="https://github.com/shmilylty/OneForAll">https://github.com/shmilylty/OneForAll</a></p>
<p>ksubdomain：<a href="https://github.com/knownsec/ksubdomain">https://github.com/knownsec/ksubdomain</a></p>
<p>子域名查询 <a href="https://phpinfo.me/domain/">https://phpinfo.me/domain/</a></p>
<p>第三方聚合应用枚举 <a href="https://dnsdumpster.com/">https://dnsdumpster.com/</a></p>
<p>证书透明度公开日志枚举 <a href="http://crt.sh">http://crt.sh</a></p>
<p>子域名爆破：<br>
sublist3r、subdomainsBurte、DiscoverSubdomain、layer子域名挖掘机。</p>
<p>OneForAll:<a href="https://e.coding.net/randhome/ctf/CTFTOOLS-OneForAll.git">https://e.coding.net/randhome/ctf/CTFTOOLS-OneForAll.git</a></p>
<h4 id="dns">DNS</h4>
<p>https://viewdns.info/</p>
<h4 id="查找真实ip">查找真实IP</h4>
<ul>
<li>
<p>目标服务器存在CDN</p>
<p>内部邮件源</p>
<p>扫描网站测试文件</p>
<p>分站域名</p>
<p>国外访问<a href="https://asm.ca.com/en.ping.php">https://asm.ca.com/en.ping.php</a></p>
<p>全球ping<a href="http://ping.chinaz.com/m.pahx.com">http://ping.chinaz.com/m.pahx.com</a></p>
<p>查询域名的解析记录<a href="https://www.netcraft.com">https://www.netcraft.com</a></p>
<p>APP抓包</p>
<p>绕过CloudFlare CDN查找真实IP</p>
<p><a href="http://www.crimeflare.us/cfs.html#box">http://www.crimeflare.us/cfs.html#box</a></p>
<p><a href="https://www.cnblogs.com/qiudabai/p/9763739.html">https://www.cnblogs.com/qiudabai/p/9763739.html</a></p>
</li>
<li>
<p>目标服务器不存在CDNhttp://www.ip138.com</p>
<p>可用来找真实ip</p>
<p><a href="http://www.siteinfotool.com/">http://www.siteinfotool.com/</a></p>
<p><a href="http://toolbar.netcraft.com/site_report">http://toolbar.netcraft.com/site_report</a></p>
<p><a href="https://dnsdumpster.com/">https://dnsdumpster.com/</a></p>
<p><a href="https://viewdns.info/iphistory/">https://viewdns.info/iphistory/</a></p>
<p><a href="https://asm.ca.com/">https://asm.ca.com/</a></p>
<p>fofa搜索http shodan规则</p>
<p>fofa：<a href="https://search.sxisa.com/favicon.ico">https://search.sxisa.com/favicon.ico</a></p>
<p>shodan = http.favicon.hash:-935203314</p>
</li>
</ul>
<h4 id="同ip网站查询">同IP网站查询</h4>
<p><a href="http://www.ip-address.org/reverse-lookup/reverse-ip.php">http://www.ip-address.org/reverse-lookup/reverse-ip.php</a><br>
<a href="http://www.yougetsignal.com/tools/web-sites-on-web-server/">http://www.yougetsignal.com/tools/web-sites-on-web-server/</a></p>
<p>旁站/C段查询</p>
<p><a href="https://phpinfo.me/bing.php">https://phpinfo.me/bing.php</a></p>
<p><a href="https://chapangzhan.com">https://chapangzhan.com</a></p>
<p><a href="http://www.webscan.cc">http://www.webscan.cc</a></p>
<p><a href="http://www.5kik.com">http://www.5kik.com</a></p>
<p><a href="http://phpinfo.me">http://phpinfo.me</a></p>
<h3 id="指纹识别">指纹识别</h3>
<p>BugScaner：<a href="http://whatweb.bugscaner.com/look/">http://whatweb.bugscaner.com/look/</a></p>
<p>云悉指纹：<a href="https://www.yunsee.cn/">https://www.yunsee.cn/</a></p>
<p>WhatWeb：<a href="https://whatweb.net/">https://whatweb.net/</a></p>
<p>潮汐安全团队<a href="http://finger.tidesec.net/">http://finger.tidesec.net/</a></p>
<h3 id="威胁情报分析">威胁情报分析</h3>
<h4 id="联网设备查询">联网设备查询</h4>
<ul>
<li>
<p>通过对全网扫描</p>
<p>360QuaKe**<a href="https://quake.360.cn/quake/welcome">https://quake.360.cn/quake/welcome</a>**</p>
<p>fofa <a href="https://fofa.so/">https://fofa.so/</a></p>
<p>shodan <a href="https://www.shodan.io/">https://www.shodan.io/</a></p>
<p>钟馗之眼 <a href="https://www.zoomeye.org/">https://www.zoomeye.org/</a></p>
</li>
</ul>
<h4 id="公众号小程序情报">公众号小程序情报</h4>
<p><a href="http://www.gsdata.cn">http://www.gsdata.cn</a></p>
<p><a href="https://newrank.cn/">https://newrank.cn/</a></p>
<h4 id="敏感目录文件收集">敏感目录文件收集</h4>
<ul>
<li>nikto</li>
<li>dirsearch</li>
<li>备份文件-test404</li>
<li>猪猪侠weakfilescan、cansina、sensitivefilescan、FileSensor</li>
</ul>
<h4 id="谷歌高级搜索">谷歌高级搜索</h4>
<p>谷歌黑客</p>
<p><a href="https://pentest-tools.com/information-gathering/google-hacking#">https://pentest-tools.com/information-gathering/google-hacking#</a></p>
<p><a href="https://scan.top15.cn/web/">https://scan.top15.cn/web/</a></p>
<p><a href="https://www.exploit-db.com/google-hacking-database">https://www.exploit-db.com/google-hacking-database</a></p>
<p>google hacking</p>
<ul>
<li>指定域名：<br>
site:xxx.com</li>
<li>URL中存在关键字的网页：<br>
inurl:admin</li>
<li>网页正文中的关键字：<br>
intext:admin</li>
<li>指定文件类型：<br>
Filetype:PDF</li>
<li>网页标题中的关键字：<br>
intitle:管理员</li>
<li>返回所有与xxx.com做了链接的URL：link</li>
<li>查找指定站点的一些基本信息：Info</li>
<li>搜索Google里关于某些内容的缓存：cache</li>
</ul>
<p><a href="https://www.exploit-db.com/google-hacking-database">https://www.exploit-db.com/google-hacking-database</a></p>
<pre><code>site:*.example.org ext:php | ext:txt | ext:log
</code></pre>
<pre><code>site:*.example.org ext:pdf | ext:doc| ext:docx | ext:ppt | ext:pptx | ext:xls | ext:xlsx | ext:csv
</code></pre>
<pre><code>site:edu.cn ext:doc title:身份证
</code></pre>
<p>通过Github获取数据库泄露信息。</p>
<pre><code>site:Github.com sa password

site:Github.com root password

site:Github.com User ID='sa'
</code></pre>
<p>使用Github获取邮件配置信息泄露的信息</p>
<pre><code>site:Github.com smtp @qq.com
site:Github.com smtp
</code></pre>
<h4 id="js拓展信息面">JS拓展信息面</h4>
<p>js爬取域名，url链接</p>
<p><a href="https://github.com/Threezh1/JSFinder">https://github.com/Threezh1/JSFinder</a></p>
<h2 id="主动信息收集">主动信息收集</h2>
<h3 id="常用端口信息收集">常用端口信息收集</h3>
<ul>
<li>Nmap</li>
<li>无状态端口扫描工具Masscan</li>
<li>ZMap</li>
<li>御剑高速TCP端口扫描工具</li>
</ul>
<h2 id="漏洞环境搭建">漏洞环境搭建</h2>
<h3 id="linux安装lanmp">Linux安装LANMP</h3>
<ul>
<li>wget  http://dl.wdlinux.cn/files/lanmp_v3.tar.gz</li>
</ul>
<h3 id="windows安装wamp">Windows安装WAMP</h3>
<ul>
<li>
<p>下载链接：<br>
https://sourceforge.net/projects/wampserver/</p>
</li>
<li>
<p>安装报错</p>
<p>找不到MSVCR110.dll</p>
<p>https://www.zhaodll.com/dll/softdown.asp?softid=41552&amp;iz2=2a9db44a3a7e2d7f65f2c100b6662097</p>
</li>
</ul>
<h2 id="常用渗透测试工具">常用渗透测试工具</h2>
<h3 id="sqlmap">SQLMap</h3>
<ul>
<li>
<p>五种漏洞检测技术</p>
<ul>
<li>
<p>基于布尔类型的盲注</p>
<ul>
<li>可以根据返回页面判断条件真假</li>
</ul>
</li>
<li>
<p>基于时间的盲注</p>
<ul>
<li>不能根据页面返回的内容判断任何信息，要用条件语句查看时间延迟语句是否已执行(即页面返回时间是否增加)来判断。</li>
</ul>
</li>
<li>
<p>基于报错的注入</p>
<ul>
<li>页面会返回错误信息，或者把注入的语句的结果直接返回到页面中。</li>
</ul>
</li>
<li>
<p>联合查询注入</p>
<ul>
<li>在可以使用Union的情况下注入</li>
</ul>
</li>
<li>
<p>堆查询注入</p>
<ul>
<li>可以同时执行多条语句时的注入</li>
</ul>
</li>
</ul>
</li>
<li>
<p>常用选项</p>
<ul>
<li>-u            指定URL<br>
-r            从文本中获取HTTP请求<br>
--dbs    查询当前用户下的所有数据库<br>
--tables  获取数据库的表名<br>
--columns  获取表中的字段名<br>
--dump       获取字段内容<br>
--users         获取数据库的所有用户<br>
--passwords   获取数据库用户的密码<br>
--current-db    获取当前数据库的名称<br>
--current-user   获取当前网站数据库的用户名称<br>
--level                   探测等级<br>
--is-dba                当前用户是否为管理员权限<br>
--relos                   列出数据库管理员角色<br>
--referer               指定请求的Referer头<br>
--sql-shell            运行自定义SQL语句<br>
--os-cmd  --os-shell        运行任意操作系统命令<br>
--file-read            从数据库服务器中读取文件<br>
--file-write   --file-dest   上传文件到数据库服务器中</li>
</ul>
</li>
<li>
<p>使用方法</p>
<ul>
<li>sqlmap.py   -u   &quot;http://xxx.com/1.php?id=1&quot;           检测注入点<br>
sqlmap .py  -u    &quot;http://xxx.com/1.php?id=1&quot;    --dbs   查询当前用户下的所有数据库<br>
sqlmap.py   -u    &quot;http://xxx.com/1.php?id=1&quot;   --D  xxx --tables   获取xxx数据库中的表名<br>
sqlmap.py  -u  &quot;http://xxx.com/1.php?id=1 &quot;    -D   XXX   -T   xxxx     获取xxxx表中的字段名<br>
sqlmap.py  -u  &quot;http://xxx.com/1.php?id-1&quot;     -D    XXX   -T   xxx   -C xxx  --dump   获取字段内容</li>
</ul>
</li>
<li>
<p>tamper脚本</p>
<ul>
<li>
<p>apostrophemask.py</p>
<ul>
<li>作用:将引号替换为UTF-8,用于过滤单引号</li>
</ul>
</li>
<li>
<p>base64encode.py</p>
<ul>
<li>作用：替换成base64编码</li>
</ul>
</li>
<li>
<p>multiplespaces.py</p>
<ul>
<li>作用：围绕SQL关键字添加多个空格</li>
</ul>
</li>
<li>
<p>space2plus.py</p>
<ul>
<li>作用：用+号替换空格</li>
</ul>
</li>
<li>
<p>nonrecursivereplacement.py</p>
<ul>
<li>作用：将空格替换为其他有效字符</li>
</ul>
</li>
<li>
<p>unionalltounion.py</p>
<ul>
<li>作用：将UNION ALL SELECT替换为UNION  SELECT</li>
</ul>
</li>
<li>
<p>securesphere.py</p>
<ul>
<li>作用：追加特制的字符串</li>
</ul>
</li>
<li>
<p>space2mssqlblank.py（mssql)</p>
<ul>
<li>作用：将空格替换为其他空字符</li>
</ul>
</li>
<li>
<p>space2mssqlhash.py</p>
<ul>
<li>作用：将空格替换为#号，并添加一个换行符</li>
</ul>
</li>
<li>
<p>between.py</p>
<ul>
<li>作用：用NOT BETWEEN 0 AND替换大于号（&gt;),用BETWEEN AND 替换等号(=)</li>
</ul>
</li>
<li>
<p>percentage.py</p>
<ul>
<li>作用：ASP允许在每个字符前面添加一个%符号</li>
</ul>
</li>
<li>
<p>sp_password.py</p>
<ul>
<li>作用：从DBMS日志的自动模糊处理的有效载荷中追加sp_password</li>
</ul>
</li>
<li>
<p>charencode.py</p>
<ul>
<li>作用：对给定的Payload全部字符使用URL编码（不处理已经编码的字符）</li>
</ul>
</li>
<li>
<p>randomcase.py</p>
<ul>
<li>作用：随机大小写</li>
</ul>
</li>
<li>
<p>charunicodeencode.py</p>
<ul>
<li>作用：字符串unicode编码</li>
</ul>
</li>
<li>
<p>space2comment.py</p>
<ul>
<li>作用：将空格替换为/**/</li>
</ul>
</li>
<li>
<p>equaltolike.py</p>
<ul>
<li>作用：将等号替换为like</li>
</ul>
</li>
<li>
<p>greatest.py</p>
<ul>
<li>作用：绕过对&quot;&gt;&quot;的过滤，用于GREATEST替换大于号</li>
</ul>
</li>
<li>
<p>ifnull2ilsnull.py</p>
<ul>
<li>作用：绕过对IFNULL的过滤，替换类似IFNULL（A，B）为IF（ISNULL（A），B，A）。</li>
</ul>
</li>
<li>
<p>modsecurityversioned.py</p>
<ul>
<li>作用：过滤空格，使用MYSQL内联注释的方式进行注入</li>
</ul>
</li>
<li>
<p>space2mysqlblank.py</p>
<ul>
<li>作用：将空格替换为其他空白字符（使用于MYSQL）</li>
</ul>
</li>
<li>
<p>modsecurityzeroversioned.py</p>
<ul>
<li>作用：使用Mysql内联注释的方式（/<em>!00000</em>/）进行注入</li>
</ul>
</li>
<li>
<p>space2mysqldash.py</p>
<ul>
<li>作用：将空格替换为——，并添加一个换行符</li>
</ul>
</li>
<li>
<p>bluecoat.py</p>
<ul>
<li>作用：在SQL语句之后用有效的随机空白字符替换空格符，随后用LIKE替换等于号</li>
</ul>
</li>
<li>
<p>versionedkeywords.py</p>
<ul>
<li>作用：注释绕过</li>
</ul>
</li>
<li>
<p>space2morehash.py</p>
<ul>
<li>作用：将空格替换为#号，并添加一个随机字符串和换行符</li>
</ul>
</li>
<li>
<p>apostrophenullendoce.py</p>
<ul>
<li>作用：用非法双字节unicode字符替换单引号</li>
</ul>
</li>
<li>
<p>appendnullbyte.py</p>
<ul>
<li>作用：在有效负荷的结束位置加载零字节字符编号</li>
</ul>
</li>
<li>
<p>chardoubleencode.py</p>
<ul>
<li>作用：对给定的Payload全部字符使用双重URL编码（不处理已经编码的字符)</li>
</ul>
</li>
<li>
<p>unmagicquotes.py</p>
<ul>
<li>作用：用一个多字节组合(%bf%27)和末尾通用注释一起替换空格</li>
</ul>
</li>
<li>
<p>randomcomments.py</p>
<ul>
<li>作用：用/**/分割SQL关键字</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="burpsuite">Burpsuite</h3>
<ul>
<li>
<p>Proxy</p>
<ul>
<li>Forward表示将拦截的数据包发送至数据库</li>
<li>Drop表示丢弃当前拦截的数据包</li>
<li>Interception  is  on表示开启拦截功能,单击后变为interception  is  off，表示关闭拦截功能</li>
<li>action按钮，可以将数据包进一步发送到Spider、Scanner、Repeater、Intruder等功能组件</li>
</ul>
</li>
<li>
<p>Spider</p>
</li>
<li>
<p>Decoder</p>
<ul>
<li>
<p>编码解码</p>
<ul>
<li>URL</li>
<li>HTML</li>
<li>Base64</li>
<li>ASCII</li>
<li>十六进制</li>
<li>八进制</li>
<li>二进制</li>
<li>GZIP</li>
</ul>
</li>
<li>
<p>Hash散列</p>
<ul>
<li>SHA</li>
<li>SHA-224</li>
<li>SHA-256</li>
<li>SHA-384</li>
<li>SHA-512</li>
<li>MD2</li>
<li>MD5</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Scanner</p>
<ul>
<li>
<p>主动扫描</p>
<ul>
<li>客户端漏洞，如XSS、HTTP头注入、操作重定向</li>
<li>服务端漏洞，如SQL注入、命令行注入、文件遍历</li>
</ul>
</li>
<li>
<p>被动扫描</p>
<ul>
<li>提交的密码为为加密的明文</li>
<li>不安全的cookie的属性，例如缺少httpOnly和安全标志</li>
<li>Cookie的范围缺失</li>
<li>跨域脚本包含和站点引用泄漏</li>
<li>表单值自动填充，尤其是密码</li>
<li>SSL保护的内容缓存</li>
<li>目录遍历</li>
<li>提交密码后应答延迟</li>
<li>session令牌的不安全传输</li>
<li>敏感信息泄漏，例如内部IP地址、电子邮件地址、堆栈跟踪等信息泄漏</li>
<li>不安全的ViewState的配置</li>
<li>错误或不规范的Content-Type</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Intruder</p>
<ul>
<li>
<p>标识符枚举</p>
<ul>
<li>WEB应用程序经常使用标识符引用用户、帐号、资产等数据信息。例如，用户名、文件ID和帐号号码</li>
</ul>
</li>
<li>
<p>提取有用的数据</p>
<ul>
<li>在某些场景下，不是简单地识别有效标识符，而是通过简单标识符提取其他数据。例如，通过用户的个人空间ID获取所有用户在其他个人空间名字和年龄</li>
</ul>
</li>
<li>
<p>模糊测试</p>
<ul>
<li>很多输入型的漏洞（如SQL注入、跨站点脚本和文件路径遍历）可以通过请求参数提交各种测试字符串,并分析错误消息和其他异常情况，来对应用程序进行检测。受限于应用程序的大小和复杂性，手动执行这个测试是一个耗时且烦琐的过程，因此可以设置Payload，通过Burpsuite Intruder自动化对WEB应用程序进行模糊测试</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Repeater</p>
</li>
<li>
<p>Comparer</p>
<ul>
<li>枚举用户名的过程中，对比分析登录成功和失败时，服务器反馈的结果区别</li>
<li>使用Intruder进行攻击时，对于不同的服务端相应，可以很快分析出两次响应的区别在哪里。</li>
<li>进行SQL注入盲注测试时，比较两次响应消息的差异，判断响应结果与注入条件的关联关系</li>
</ul>
</li>
<li>
<p>Sequencer</p>
</li>
</ul>
<h3 id="masscan">masscan</h3>
<h3 id="nmap">Nmap</h3>
<ul>
<li>
<p>特点</p>
<ul>
<li>主机探测</li>
<li>端口扫描</li>
<li>版本检测</li>
<li>系统检测</li>
<li>支持探测脚本的编写</li>
</ul>
</li>
<li>
<p>常用方法</p>
<ul>
<li>
<p>扫描单个目标地址</p>
<ul>
<li>nmap   192.168.0.100</li>
</ul>
</li>
<li>
<p>扫描多个目标地址</p>
<ul>
<li>nmap  192.168.0.100  192.168.0.105</li>
</ul>
</li>
<li>
<p>扫描一个范围内的目标地址</p>
<ul>
<li>nmap  192.168.0.100-110</li>
</ul>
</li>
<li>
<p>扫描目标地址所在的某个网段</p>
<ul>
<li>nmap  192.168.0.100/24</li>
</ul>
</li>
<li>
<p>扫描主机列表targets.txt中的所有目标地址</p>
<ul>
<li>nmap    -iL   targets.txt</li>
</ul>
</li>
<li>
<p>扫描除某一个目标地址之外的所有目标地址</p>
<ul>
<li>nmap   192.168.0.100/24  -exclude  192.168.0.105</li>
</ul>
</li>
<li>
<p>扫描除某一文件中的目标地址之外的目标地址</p>
<ul>
<li>nmap  192.168.0.100/24  --exclude  targets.txt</li>
</ul>
</li>
<li>
<p>扫描某一目标的21、22、23、80端口</p>
<ul>
<li>nmap  192.168.0.100  -p  21,22,23,80</li>
</ul>
</li>
<li>
<p>对目标地址进行路由跟踪</p>
<ul>
<li>nmap   --traceroute   192.168.0.110</li>
</ul>
</li>
<li>
<p>扫描目标地址所在C段的在线状况</p>
<ul>
<li>nmap   -sP  192.168.0.100/24</li>
</ul>
</li>
<li>
<p>目标地址的操作系统指纹识别</p>
<ul>
<li>nmap    -O  192.168.0.105</li>
</ul>
</li>
<li>
<p>目标地址提供的服务版本探测</p>
<ul>
<li>nmap   -sV  192.168.0.105</li>
</ul>
</li>
<li>
<p>探测防火墙状态</p>
<ul>
<li>nmap  -sF  -T4  192.168.0.105</li>
</ul>
</li>
</ul>
</li>
<li>
<p>状态识别</p>
<ul>
<li>
<p>open</p>
<ul>
<li>开放的，表示应用程序正在监听该端口的连接，外部可以访问</li>
</ul>
</li>
<li>
<p>filtered</p>
<ul>
<li>被过滤的，表示端口被防火墙或其他网络设备阻止，不能访问</li>
</ul>
</li>
<li>
<p>closed</p>
<ul>
<li>关闭的，表示目标主机未开启该端口</li>
</ul>
</li>
<li>
<p>unfiltered</p>
<ul>
<li>未被过滤的，表示nmap无法确定端口所处的状态，需进一步探测</li>
</ul>
</li>
<li>
<p>open/filtered</p>
<ul>
<li>开放的或被过滤的，Nmap无法识别</li>
</ul>
</li>
<li>
<p>closed/filtered</p>
<ul>
<li>关闭的或被过滤的，Nmap无法识别</li>
</ul>
</li>
</ul>
</li>
<li>
<p>脚本类型</p>
<ul>
<li>
<p>Auth</p>
<ul>
<li>负责处理鉴权证书（绕过鉴权）的脚本</li>
</ul>
</li>
<li>
<p>Broadcast</p>
<ul>
<li>在局域网中探查更多服务的开启情况，如DHCP/DNS/Sqlserver等</li>
</ul>
</li>
<li>
<p>Brute</p>
<ul>
<li>针对常见的应用提供暴力破解方式，如HTTP/SMTP</li>
</ul>
</li>
<li>
<p>Default</p>
<ul>
<li>使用-sC或-A选项扫描时默认的脚本，提供基本的脚本扫描能力</li>
</ul>
</li>
<li>
<p>Discoverty</p>
<ul>
<li>对网络进行更多信息的搜集，如SMB枚举、SNmp查询等。</li>
</ul>
</li>
<li>
<p>Dos</p>
<ul>
<li>用于进行拒绝服务攻击</li>
</ul>
</li>
<li>
<p>Exploit</p>
<ul>
<li>利用已知的漏洞入侵系统</li>
</ul>
</li>
<li>
<p>External</p>
<ul>
<li>利用第三方的数据库或资源。例如，进行Whois解析。</li>
</ul>
</li>
<li>
<p>Fuzzer</p>
<ul>
<li>模糊测试脚本，发送异常的包到目标机，探测出潜在的漏洞</li>
</ul>
</li>
<li>
<p>Intrusive</p>
<ul>
<li>入侵性的脚本，此类脚本可能引发对方的IDS/IPS的记录或屏蔽</li>
</ul>
</li>
<li>
<p>Malware</p>
<ul>
<li>探测目标机是否感染病毒、开启后门等信息</li>
</ul>
</li>
<li>
<p>Safe</p>
<ul>
<li>此类与Intrusive相反，属于安全性脚本</li>
</ul>
</li>
<li>
<p>Version</p>
<ul>
<li>负责增强服务与版本扫描功能的脚本</li>
</ul>
</li>
<li>
<p>Vuln</p>
<ul>
<li>负责检查目标机是否有常见的漏洞，如MS-08-067</li>
</ul>
</li>
</ul>
</li>
<li>
<p>常用脚本使用方法</p>
<ul>
<li>
<p>鉴权扫描</p>
<ul>
<li>nmap   --script=auth  192.168.0.105</li>
</ul>
</li>
<li>
<p>暴力破解攻击</p>
<ul>
<li>nmap   --script=brute   192.168.0.105</li>
</ul>
</li>
<li>
<p>扫描常见的漏洞</p>
<ul>
<li>nmap   -script=vuln  192.168.0.105</li>
</ul>
</li>
<li>
<p>应用服务扫描</p>
<ul>
<li>nmap   --script=realvnc-auth-bypass  192.168.0.105</li>
</ul>
</li>
<li>
<p>探测局域网内更多服务开启的情况</p>
<ul>
<li>nmap  -n  -p  445   --script=broadcast  192.168.0.105</li>
</ul>
</li>
<li>
<p>Whois查询</p>
<ul>
<li>nmap   --script=external   xxx.com</li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#web%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%AE%9E%E6%88%98%E6%8C%87%E5%8D%97">WEB安全攻防渗透测试实战指南</a>
<ul>
<li><a href="#%E8%A2%AB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86">被动信息收集</a>
<ul>
<li><a href="#%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86">域名信息收集</a>
<ul>
<li><a href="#whois%E6%9F%A5%E8%AF%A2">Whois查询</a></li>
<li><a href="#%E6%A0%B9%E5%9F%9F%E5%90%8D%E6%94%B6%E9%9B%86%E5%A4%87%E6%A1%88">根域名收集（备案）</a></li>
<li><a href="#%E5%AD%90%E5%9F%9F%E5%90%8D%E6%94%B6%E9%9B%86">子域名收集</a></li>
<li><a href="#dns">DNS</a></li>
<li><a href="#%E6%9F%A5%E6%89%BE%E7%9C%9F%E5%AE%9Eip">查找真实IP</a></li>
<li><a href="#%E5%90%8Cip%E7%BD%91%E7%AB%99%E6%9F%A5%E8%AF%A2">同IP网站查询</a></li>
</ul>
</li>
<li><a href="#%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB">指纹识别</a></li>
<li><a href="#%E5%A8%81%E8%83%81%E6%83%85%E6%8A%A5%E5%88%86%E6%9E%90">威胁情报分析</a>
<ul>
<li><a href="#%E8%81%94%E7%BD%91%E8%AE%BE%E5%A4%87%E6%9F%A5%E8%AF%A2">联网设备查询</a></li>
<li><a href="#%E5%85%AC%E4%BC%97%E5%8F%B7%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%83%85%E6%8A%A5">公众号小程序情报</a></li>
<li><a href="#%E6%95%8F%E6%84%9F%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6%E6%94%B6%E9%9B%86">敏感目录文件收集</a></li>
<li><a href="#%E8%B0%B7%E6%AD%8C%E9%AB%98%E7%BA%A7%E6%90%9C%E7%B4%A2">谷歌高级搜索</a></li>
<li><a href="#js%E6%8B%93%E5%B1%95%E4%BF%A1%E6%81%AF%E9%9D%A2">JS拓展信息面</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%B8%BB%E5%8A%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86">主动信息收集</a>
<ul>
<li><a href="#%E5%B8%B8%E7%94%A8%E7%AB%AF%E5%8F%A3%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86">常用端口信息收集</a></li>
</ul>
</li>
<li><a href="#%E6%BC%8F%E6%B4%9E%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">漏洞环境搭建</a>
<ul>
<li><a href="#linux%E5%AE%89%E8%A3%85lanmp">Linux安装LANMP</a></li>
<li><a href="#windows%E5%AE%89%E8%A3%85wamp">Windows安装WAMP</a></li>
</ul>
</li>
<li><a href="#%E5%B8%B8%E7%94%A8%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7">常用渗透测试工具</a>
<ul>
<li><a href="#sqlmap">SQLMap</a></li>
<li><a href="#burpsuite">Burpsuite</a></li>
<li><a href="#masscan">masscan</a></li>
<li><a href="#nmap">Nmap</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://Jrand-github.github.io/post/mysql-zhu-ru-lou-dong/">
              <h3 class="post-title">
                mysql注入漏洞
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://Jrand-github.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
